<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Géométrie ludique</title>

<!-- Polices -->
<link href="https://fonts.googleapis.com/css2?family=Androgy+Demo&display=swap" rel="stylesheet" />
<link href="https://fonts.googleapis.com/css2?family=Mabry+Pro&display=swap" rel="stylesheet" />

<style>
  :root {
    --primary: #3a86ff;
    --secondary: #8338ec;
    --background: #f0f4f8;
    --text: #212529;
    --border-radius: 8px;
    --transition: 0.3s ease;
  }

  body {
    font-family: 'Mabry Pro', sans-serif;
    background: var(--background);
    color: var(--text);
    margin: 2rem;
    user-select: none;
  }

  h1 {
    font-family: 'Androgy Demo', sans-serif;
    color: var(--primary);
    text-align: center;
    margin-bottom: 1.5rem;
  }

  a.back {
    display: inline-block;
    margin-bottom: 1.5rem;
    font-weight: 600;
    color: var(--primary);
    text-decoration: none;
    border: 2px solid var(--primary);
    padding: 0.5rem 1rem;
    border-radius: var(--border-radius);
    transition: background-color var(--transition), color var(--transition);
  }
  a.back:hover {
    background-color: var(--primary);
    color: white;
  }

  #workspace {
    position: relative;
    width: 90%;
    max-width: 900px;
    height: 500px;
    margin: 0 auto;
    border: 2px dashed var(--primary);
    border-radius: var(--border-radius);
    background: white;
  }

  .shape {
    position: absolute;
    cursor: grab;
    user-select: none;
    transition: transform 0.1s;
  }

  .shape.dragging {
    opacity: 0.7;
    cursor: grabbing;
  }
</style>
</head>
<body>

<h1>Géométrie ludique</h1>
<a href="index.html" class="back">← Retour à la page principale</a>

<p style="text-align:center;">Déplace les formes dans le canevas et amuse-toi à les organiser.</p>

<div id="workspace"></div>

<script>
  const workspace = document.getElementById('workspace');

  // Définition des formes à créer
  const shapesData = [
    { type: 'square', size: 80, color: '#f87171' },
    { type: 'rectangle', width: 120, height: 60, color: '#34d399' },
    { type: 'circle', radius: 40, color: '#60a5fa' },
    { type: 'triangle', base: 80, height: 70, color: '#fbbf24' }
  ];

  function createShape(data, x, y) {
    const div = document.createElement('div');
    div.classList.add('shape');

    // Style de base selon type
    if(data.type === 'square') {
      div.style.width = data.size + 'px';
      div.style.height = data.size + 'px';
      div.style.backgroundColor = data.color;
    } else if(data.type === 'rectangle') {
      div.style.width = data.width + 'px';
      div.style.height = data.height + 'px';
      div.style.backgroundColor = data.color;
    } else if(data.type === 'circle') {
      div.style.width = data.radius*2 + 'px';
      div.style.height = data.radius*2 + 'px';
      div.style.borderRadius = '50%';
      div.style.backgroundColor = data.color;
    } else if(data.type === 'triangle') {
      div.style.width = 0;
      div.style.height = 0;
      div.style.borderLeft = data.base/2 + 'px solid transparent';
      div.style.borderRight = data.base/2 + 'px solid transparent';
      div.style.borderBottom = data.height + 'px solid ' + data.color;
      div.style.background = 'none';
    }

    div.style.left = x + 'px';
    div.style.top = y + 'px';

    workspace.appendChild(div);

    makeDraggable(div);
  }

  // Fonction de drag & drop
  function makeDraggable(el) {
    let offsetX, offsetY;
    el.addEventListener('mousedown', e => {
      el.classList.add('dragging');
      offsetX = e.clientX - el.offsetLeft;
      offsetY = e.clientY - el.offsetTop;

      function move(e) {
        el.style.left = e.clientX - offsetX + 'px';
        el.style.top = e.clientY - offsetY + 'px';
      }

      function up() {
        document.removeEventListener('mousemove', move);
        document.removeEventListener('mouseup', up);
        el.classList.remove('dragging');
      }

      document.addEventListener('mousemove', move);
      document.addEventListener('mouseup', up);
    });
  }

  // Créer les formes initiales
  shapesData.forEach((s, i) => {
    createShape(s, 50 + i*100, 50);
  });
</script>

</body>
</html>
